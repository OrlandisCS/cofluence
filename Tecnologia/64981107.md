Suport Tècnic : IDP – INTEGRACIÓ – Integració al Servei  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's IDP](64981103.html)

Suport Tècnic : IDP – INTEGRACIÓ – Integració al Servei
=======================================================

Created by Unknown User (oteccmorales), last modified on 25 April 2022

  

DI

El document d'integració (desenvolupador) el podrem trobar en: [https://github.com/ConsorciAOC/IDP](https://github.com/ConsorciAOC/IDP)

  

  

Accions per integrar al servei

1.  Primer de tot, fer-li arribar el manual del desenvolupador.
2.  Prerequisits:
    1.  Demanarem al client el nom del seu Service Provider (o lo que és el mateix, el nom de la seva aplicació). Aquest serà el nom  
        que els hi donarem al client com idProvider (per exemple TIPGRI)
        
        missatge exemple
        
        Benvolguts,
        
          
        
        Us adjuntem el Document d'integració del servei IDP (aquí trobareu tots els entorns) →  [https://github.com/ConsorciAOC/IDP](https://github.com/ConsorciAOC/IDP).
        
        Per utilitzar l'entorn ens heu de dir l'identificador de l'aplicació que farà ús del IDP, i les urls (que han de ser públiques) dels dos serveis que heu de desenvolupar, el login i el logout.
        
          
        
        Salutacions cordials.
        
    2.  Demanarem les URLs de la seva aplicació següents:
        
        1.  URL aplicació(1) (punt d'entrada). Aquesta dada no és necessària per insertar en base de dades, però si ens la donen està bé per fer  
            després una prova d'extrem a extrem del correcte funcionament ja que és la que desencadena tot el procés d'autenticació.
            
        2.  URL LOG-IN(2) i URL LOG-OUT(3) (explicat detalladament a la documentació.
            
    3.  Insertar el registre a SIID\_PROVIDERS de EACAT TR (parlar amb [operacions.tr@aoc.cat](mailto:operacions.tr@aoc.cat)) indicant entorn (PRE ó PRO):  
        insert into siid\_providers(id,urllogonpost,urllogoutpost,urlredirectpost,urlflag) values ('\[IDUNIC\]','\[URL\_LOGIN\]','\[URL\_LOGOUT\]','',0);
        
    4.  Facilitar als clients les claus públiques i el certificat idpre i idppro  
        (tot a la mateixa carpeta on resideix la documentació \\\\venus\\Operacions\\Procediments\\IDP)
        
    5.  Possibilitat d'afegir un enllaç EACAT PL (Aplicacions) o EACAT TR (Tràmits) amb l'enllaç a la aplicació que cridarà a l'IDP  
        (parlar amb [operacions.pl@aoc.cat](mailto:operacions.pl@aoc.cat))
        
    6.  Crear usuaris a EACAT en funció del que necessiti el requeridor:  
        Normalment li passarem al client un parell d'usuaris, un amb permisos i un altre sense. Amb l'XML de resposta que envia el IDP cap  
        a la seva aplicació (<InfoUsu>...</InfoUsu>), al crear-se usuaris de proves amb diferents rols, retornarà segons el ROL i l'ENS la informació adequada.  
        En Miquel Robles/Jose Luis Pastor, poden crear usuaris i emular un LOG-IN a BBDD èr veure aquest XML de <InfoUsu>
        
        1.  Podem crear usuaris a PRE  
            Amb admincsi a eaCAT PRE, triem qualsevol ens i a pestanya Configuració-->Nou Usuari
            
        2.  Per veure usuaris existents, triem Generalitat de Catalunya, Tràmits-->Gestió-->usuaris sistema
            
        3.  Els rols els donarà el gestor de l'ens de l'eaCAT, segons els hi convingui (es crea un servei SUMA a eaCAT i poden donar rol o no per aquell servei)
            
    7.  Si sorgeixen problemes, podem provar amb Google Chrome/Firefox d'executar la URL aplicació (1), la qual desencadena el procés, i veure les traces/flux.
        
    8.  Acordar soporte con CIS/cliente (lo hablamos con Meri) \[de moment mai ho hem fet\]
        

  

  

Related articles
----------------

  

Related issues

FP#482469 

Document generated by Confluence on 02 June 2025 10:56

[Atlassian](http://www.atlassian.com/)