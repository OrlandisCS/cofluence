Suport Tècnic : 1 - Instal·lació del Tomcat  

1.  [Suport Tècnic](index.md)
2.  [Suport Tècnic](13893782.md)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.md)
4.  [Revisió de serveis](36340340.md)
5.  [PADRO - Revisions i Restabliment](PADRO---Revisions-i-Restabliment_118554712.md)
6.  [Padró - Instal·lació i manteniment](26313622.md)
7.  [PADRO - Instal·lació de l'aplicació](26313260.md)

Suport Tècnic : 1 - Instal·lació del Tomcat
===========================================

Created by Unknown User (obernalp), last modified by Unknown User (otecobernal) on 18 May 2020

En aquest apartat s'explicarà com instal·lar el tomcat al servidor de l'ajuntament. Farem servir la versió 8 amb java 8, que si cal, també haurem d'instal·lar al servidor.

PAS 0: Recursos necessaris

Es faran servir els següents fitxers:

**Windows**

**Linux**

**x64**

**x32**

**x64**

**x32**

[apache-tomcat-8.0.41-windows-x64.zip](attachments/26313262/26315917.zip)

[apache-tomcat-8.0.41-windows-x86.zip](attachments/26313262/26315916.zip)

[apache-tomcat-8.0.41.tar.gz](attachments/26313262/26315912.gz)

[apache-tomcat-8.0.41.tar.gz](attachments/26313262/26315912.gz)

[jdk-8u121-windows-x64.zip](attachments/26313262/26315975.zip)

[jdk-8u121-windows-i586.zip](attachments/26313262/26315991.zip)

[jdk-8u121-linux-x64.tar.gz](attachments/26313262/26315992.gz)

[jdk-8u121-linux-x64.tar.gz](attachments/26313262/26315992.gz)

A més a més, independentment del tipus de servidor, haurem de configurar les llibreries del policy i els recursos del tomcat: [![](download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-zip.png)jce\_policy-8.zip](/download/attachments/26313262/jce_policy-8.zip?version=1&modificationDate=1548934488000&api=v2) i [![](download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-small-zip.png)tomcat.zip](/download/attachments/26313262/tomcat.zip?version=1&modificationDate=1548943588000&api=v2)

PAS 1: Instal·lar JAVA

Com hem comentat anteriorment, abans d'instal·lar el tomcat, prepararem la versió de JAVA que s'utilitzarà. Per això, instal·larem la versió jdk-8u121 de 32 o 64 bits, en funció del servidor.

Una vegada hem instal·lat el JAVA, extraurem el que trobem dins de l'arxiu jce\_policy-8.zip. Obtindrem els fitxers següents:

![](attachments/26313262/26315883.png)

Aquests fitxers els copiarem a les següents rutes:

*   _C:\\Program Files\\Java\\jdk1.8.0\_121\\jre\\lib\\security_
*   _C:\\Program Files\\Java\\jre1.8.0\_121\\lib\\security_

PAS 2: Instal·lar tomcat

Per instal·lar tomcat 8, extraurem els arxius del zip apache-tomcat-8.0.41.zip. Després canviarem el nom de la carpeta per tomcat-8.

Una vegada instal·lat, inserirem la ruta del jdk instal·lat al Pas 1 dins del fitxer catalina.bat. Aquest fitxer el trobarem a la ruta C:\\aoc\_padro\\tomcat-8\\bin. La línia que hem d’inserir, o modificar si ja existeix, és la següent:

_set JAVA\_HOME=C:/Program Files/Java/jdk1.8.0\_121_

Aquesta línia l'inserirem a:

*   Fitxer abans d'inserir la ruta del JDK:

![](attachments/26313262/26315882.png)

*   Fitxer després d'inserir la ruta del JDK

![](attachments/26313262/26315934.png)

  

En cas de ser un servidor Linux, haurem de modificar l'script catalina.sh amb el següent:

_export JAVA\_HOME=C:/Program Files/Java/jdk1.8.0\_121_

PAS 3: Configurar els ports

A més, dins del ZIP tomcat.zip, podem trobar el fitxer server.xml i la carpeta Catalina.

*   El fitxer, server.xml, el copiarem a la ruta _C:\\aoc\_padro\\tomcat-8\\conf\\_
*   La carpeta Catalina la copiarem a la ruta C:\\aoc\_padro\\tomcat-8\\conf\\

Dins del fitxer server.xml podrem modificar els ports que utilitzarà el nostre tomcat.

PAS 4: Comprobar instal·lació

En aquest punt, s’hauria de poder engegar el tomcat.  Per engegar el tomcat executarem el startup.bat que trobarem en la ruta C:\\aoc\_padro\\tomcat-8\\bin.

Si volem obtenir un log amb el detall a l'hora d'engegar el tomcat, ho farem executa'n la següent instrucció dins de la carpeta C:\\aoc\_padro\\tomcat-8\\bin:

catalina.bat run > tomcat.log 2>&1

D'aquesta forma trobarem un fitxer anomenat tomcatr.log dins de la ruta C:\\aoc\_padro\\tomcat-8\\bin

  

[.rwui\_id\_43a50e21-872d-4d84-b513-69744e48ee3b {color: #FFFFFF !important; background: rgb(67,197,208);}.rwui\_id\_43a50e21-872d-4d84-b513-69744e48ee3b:hover {background: rgb(62,182,192);}.rwui\_id\_43a50e21-872d-4d84-b513-69744e48ee3b .rwui\_icon {color: #FFFFFF !important;}Següent pas](https://intranet.aoc.cat/pages/viewpage.action?pageId=26313261 "Següent pas")
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2018-3-1\_17-5-32.png](attachments/26313262/26315934.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2018-3-1\_17-5-26.png](attachments/26313262/26315882.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2018-3-1\_16-43-25.png](attachments/26313262/26315883.png) (image/png)  
![](images/icons/bullet_blue.gif) [jce\_policy-8.zip](attachments/26313262/26315922.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [apache-tomcat-8.0.41-windows-x64.zip](attachments/26313262/26315917.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [apache-tomcat-8.0.41-windows-x86.zip](attachments/26313262/26315916.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [apache-tomcat-8.0.41.tar.gz](attachments/26313262/26315912.gz) (application/x-gzip)  
![](images/icons/bullet_blue.gif) [jdk-8u121-linux-x64.tar.gz](attachments/26313262/26315992.gz) (application/x-gzip)  
![](images/icons/bullet_blue.gif) [jdk-8u121-windows-i586.zip](attachments/26313262/26315991.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [jdk-8u121-windows-x64.zip](attachments/26313262/26315975.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [tomcat.zip](attachments/26313262/26316011.zip) (application/zip)  

Document generated by Confluence on 02 June 2025 11:13

[Atlassian](http://www.atlassian.com/)