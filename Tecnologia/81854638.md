Suport Tècnic : REPRESENTA - FLUX DEL SERVEI - Consultar si un ens té un catàleg carregat o no carregat  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's REPRESENTA](28705611.html)

Suport Tècnic : REPRESENTA - FLUX DEL SERVEI - Consultar si un ens té un catàleg carregat o no carregat
=======================================================================================================

Created by Unknown User (otecjcolomer), last modified on 28 October 2022

A dia d’avui, quan es crea una administració al Representa se li assigna automàticament el catàleg de l’AOC. I si l’ens vol catàleg propi es canviarà el de l’ens pel de l’AOC. Però abans no era així. Quan es creava l’administració es creava un catàleg nou buit, sense res més.

Per tant, es pot donar el cas que hi hagi administracions que tinguin un catàleg a la BBDD, fins i tot que s’indiqui que està actiu, però que no tinguin famílies ni tràmits carregats (que és el quid de la qüestió per veure si un catàleg està carregat o no). I això pot venir determinat per dos motius:

*   En el seu dia es va crear l’administració i se li va assignar un catàleg buit.
*   Que sigui una administració ja creada i premin el botó de crear catàleg sense fer res més.

El fet d’estar **actiu** o no és un flag que es marca des de l’aplicatiu, **no guarda relació amb que estigui carregat o no**.

Exemple per veure que actiu no és determinant:

Si ens en anem al SOAP i consultem el catàleg ens retornarà si el catàleg és propi o cedit per l’AOC, però el que s’indiqui als camps actiu no determinarà si tenen catàleg carregat o no.

  

![](attachments/81854638/81854641.png)

  

![](attachments/81854638/81854642.png)

  

Veiem com a l’Ajuntament de Sabadell ens indiquen que té catàleg propi => **Catàleg de l’administració Ajuntament de Sabadell,** i que a més a més ens indiquen que **el catàleg està actiu i que l’administració està activa.** Però **encara que indiquin catàleg actiu, no significarà necessàriament que estigui carregat.**

IMPORTANT

En definitiva, per veure si un catàleg està carregat o no haurem de veure si el catàleg té famílies a dins, que són les que inclouen els tràmits. És a dir, haurem de determinar que no estigui buit. El mode de consultar-ho és revisant la taula r\_cataleg\_familia

Seguim amb l’exemple de Sabadell:

SELECT \* from r\_administracio where NOM like '%Sabadell%';

  

Aquí veiem que tenim l’administració Sabadell creada.

SELECT \* from r\_cataleg where NOM like '%Sabadell%';

  

Aquí veiem que hi ha un catàleg creat per Sabadell, i que a més l’han marcat com actiu.

![](attachments/81854638/81854643.png)

  

I aquí ve el quid de la qüestió: si anem a buscar famílies...

Select \* from r\_cataleg\_familia where cataleg\_uuid = 3

![](attachments/81854638/81854644.png)

  

Veiem que no hi ha res, que està buit.

A això ens referim quan diem si està carregat o no. **Quan no tingui res a dins, no tingui famílies, significarà que no està carregat.**

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2022-10-28\_13-20-17.png](attachments/81854638/81854641.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-10-28\_13-21-47.png](attachments/81854638/81854642.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-10-28\_13-23-30.png](attachments/81854638/81854643.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-10-28\_13-26-5.png](attachments/81854638/81854644.png) (image/png)  

Document generated by Confluence on 02 June 2025 10:58

[Atlassian](http://www.atlassian.com/)