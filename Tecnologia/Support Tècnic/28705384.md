Suport Tècnic : Monitor S.T. - e-NOTUM - Errors en generació PDF últimes 2 hores  

1.  [Suport Tècnic](index.md)
2.  [Suport Tècnic](13893782.md)
3.  [03 - Monitorització - Revisions globals](26313327.md)
4.  [Monitors S.T.](Monitors-S.T._41522177.md)
5.  [Monitor S.T. - OLD](Monitor-S.T.---OLD_118555256.md)

Suport Tècnic : Monitor S.T. - e-NOTUM - Errors en generació PDF últimes 2 hores
================================================================================

Created by Unknown User (otecobernal), last modified by OTEC ST Alessandro Trombin Martinez on 02 March 2022

**Query:**

SELECT count(ID) REGISTRES
FROM NT30.aoc\_nt\_event\_motor
where (data\_accio is null OR data\_accio between SYSDATE - INTERVAL '120'
MINUTE and sysdate)
AND estat = 2
and fase = 'FASE\_GENERACIO\_PDF'

**Descripció:** 

Aquesta sonda consulta els estats de la "_event motor_" on la data d'acció sigui null (si es null mai s'executarà la fase), i un rang de temps inferior a dues hores des del moment que s'executa la query. A més, que l'estat sigui d'error en la FASE\_GENERACIO\_PDF. Quan una notificació arriba a un estat final es genera el justificant de validesa (fase\_generacio\_pdf).

Aquesta sonda està associada amb l'RDBMS **eNotum-Motor(nomesGenPdf).**

**Actuació:** 

Revisar possibles problemes amb el livecycle (reiniciar jboss i/o soffice)

Revisar logs.

Fer un tail del NT-NTNODO1\_SOA.log fent un grep de ERROR:

08 Mar 2019 11:50:33,625 ERROR \[\[ACTIVE\] ExecuteThread: '18' for queue: 'weblogic.kernel.Default (self-tuning)'\] EventMotorObserver: Error execucio de l'event motor \[52841093\]
08 Mar 2019 11:50:33,643 ERROR \[\[ACTIVE\] ExecuteThread: '261' for queue: 'weblogic.kernel.Default (self-tuning)'\] EventMotorObserver: Error execucio de l'event motor \[52841581\]
08 Mar 2019 11:50:33,680 ERROR \[\[ACTIVE\] ExecuteThread: '316' for queue: 'weblogic.kernel.Default (self-tuning)'\] EventMotorObserver: Error execucio de l'event motor \[52841494\]

  

Buscant l'id podem veure la traça (l'error pot ser igual o similar):

Caused by: cat.aoc.enotum.service.filerepository.FileRepositoryException: Error desant el fitxer temporal al repositori
 at cat.aoc.enotum.service.filerepository.FileRepositoryService.storeTempFile(FileRepositoryService.java:54)
 at cat.aoc.enotum.service.filerepository.FileRepositoryService$Proxy$\_$$\_WeldClientProxy.storeTempFile(Unknown Source)
 at cat.aoc.enotum.service.evidenciapdf.EvidenciaPDFService.storeTempPdf(EvidenciaPDFService.java:313)
 at cat.aoc.enotum.service.evidenciapdf.EvidenciaPDFService.generatePDF(EvidenciaPDFService.java:295)
 ... 74 more
Caused by: java.io.FileNotFoundException: /apps/aoc20/APP/NT30/tmp/52dec3e0-f39d-4f21-8894-cd32e35884f8 (File too large)

L'error significa que no pot escriure en el directori indicat.

El directori que és refereix al log "**/apps/aoc20/APP/NT30/tmp/**" esta ubicada al BEA, **/apps/aoc/APP/NT30/tmp/...**

Per solucionar l'error de manera ràpida podem re-nombrar la carpeta "tmp" i crear un altre carpeta nombrada "tmp".

Llavors caldrà actuar per la resolució més optima. Parlarem amb suport tècnic comentant el problema.

En cas que fent l'actuació anterior no es resolgui obrirem tiquet a sistemes.

**logs:** 

*   **Servidor: SOA PCI3**
*   **Ruta: apps/aoc/NT/logs**
*   **Nom: NT-NTNODO?\_SOA.log**

Document generated by Confluence on 02 June 2025 11:09

[Atlassian](http://www.atlassian.com/)