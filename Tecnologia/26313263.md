Suport Tècnic : 3 - Instal·lació del connector  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.html)
4.  [Revisió de serveis](36340340.html)
5.  [PADRO - Revisions i Restabliment](PADRO---Revisions-i-Restabliment_118554712.html)
6.  [Padró - Instal·lació i manteniment](26313622.html)
7.  [PADRO - Instal·lació de l'aplicació](26313260.html)

Suport Tècnic : 3 - Instal·lació del connector
==============================================

Created by Unknown User (obernalp), last modified by Unknown User (otecobernal) on 09 August 2019

PAS 0: Obtenir el connector

A continuació adjuntarem connectors ja compilats i copiats d'instal·lacions d'altres ajuntaments. En cas que el connector presenti problemes haurem de compilar el connector nosaltres mateixos, per fer-ho podem seguir les passes que s'expliquen a 3.1 - Compilar el connector

Connectors:

Connectors amb Base de Dades

Connectors amb Serveis Web

TAO

ABSIS

AUDIFILM

SPAI

WS TAO

WS TAO 2.0

WS AYTOS

WS AUDIFILM

[TAO.zip](attachments/26313263/26316570.zip)

[ABSIS.zip](attachments/26313263/26316568.zip)

[AUDIFILM.zip](attachments/26313263/26316567.zip)

[SPAI.zip](attachments/26313263/26316564.zip)

[WS TAO.zip](attachments/26313263/26316563.zip)

[WS TAO2.0.zip](attachments/26313263/26316562.zip)

[WSAYTOS.zip](attachments/26313263/26316578.zip)

[WS AUDIFILM.zip](attachments/26313263/26316576.zip)

  
També haurem de tenir en compte que poden haver-hi ajuntaments amb un connector propi.

PAS 1: Copiar el connector

Dins de la carpeta appHome trobarem el connector, també anomenat codeLocal:

![](attachments/26313263/26316552.png)

El connector està format per dues unitats, la de padró i la de convivència:

![](attachments/26313263/26316551.png)

Seguidament haurem de saber si el nostre connector és WS o BDD.

PAS 2: Editar el connector WS

Els connectors WS tenen la següent estructura:

![](attachments/26313263/26316561.png)

S'ha de configurar a l'arxiu de propietats una URL del Web service en qüestió. Haurem de verificar que tenim connectivitat a aquesta URL des del servidor de l'Ajuntament.

També pot passar que el servei web tingui credencials de pas (usuari, contrasenya o altres paràmetres). En aquests casos també ho haurem de configurar:

![](attachments/26313263/26316556.png)

Les dades que es demanen (creedencials i configuracions) necessàries dependran del tipus de connector.

Les dades del connector (URL i credencials) les haurem de preguntar a l'Ajuntament perquè ho traslladi al seu proveïdor, ja que nosaltres no les sabem i són diferents per tots els ajuntaments.

PAS 2: Editar el connector BBDD

Els connectors BBDD tenen la següent estructura

![](attachments/26313263/26316553.png)

  

S'ha de configurar la connexió a la base de dades. En realitat la connexió es configura a **\\tomcat-8\\conf\\Catalina\\localhost** on hi ha un XML anomenat **aoc\_padro.xml**:

![](attachments/26313263/26316058.png)

En aquest fitxer haurem de configurar-lo amb el mateix nom al qual fem referència en l'arxiu de propietats (en aquest exemple myoracle):

![](attachments/26313263/26316071.png)

  

Les dades les podríem cercar en la instal·lació vella en cas d'estar fent una migració. Al fitxer C:\\aoc\\AyuntamientoDeploy\\Web.config

En cas que no les trobem o no funcionin:

Les dades del connector (URL i credencials) les haurem de preguntar a l'Ajuntament perquè ho traslladi al seu proveïdor, ja que nosaltres no les sabem i són diferents per tots els ajuntaments.

El pas 2 explicat anteriorment s'haurà de realitzar dos cops, per la part de convivència i per la part de padró:

![](attachments/26313263/26316070.png)![](attachments/26313263/26316069.png)

El pas 3 també dependrà si el nostre connector és WS o BBDD:

PAS 3: Editar la configuració WS

Haurem de comentar la configuració del datasource a l'arxiu config.xml que podrem trobar a la ruta C:\\aoc\_padro\\appHome\\cfg\\

![](attachments/26313263/26316049.png)

PAS 3: Editar la configuració BBDD

Haurem de configurar el datasource a l'arxiu **config.xml** que podrem trobar a la ruta **C:\\aoc\_padro\\appHome\\cfg\\**

![](attachments/26313263/26316026.png)

  

Per fer-ho només haurem de fer referència a la connexió que hem definit en el pas anterior (**\\tomcat-8\\conf\\Catalina\\localhost\\aoc\_padro.xml**):

![](attachments/26313263/26316071.png)

  

  

PAS 4: Assegurar-se que el codi font està ben referenciat

Tant per la part de convivència i per la part de padró, dins de l'arxiu de propietats s'informa de la ruta del codi font:

![](attachments/26313263/26316070.png)![](attachments/26313263/26316069.png)

![](attachments/26313263/26316061.png)

Aquesta ruta haurà d'existir:

![](attachments/26313263/26316047.png)![](attachments/26313263/26316050.png)![](attachments/26313263/26316044.png)![](attachments/26313263/26316051.png)![](attachments/26313263/26316054.png)![](attachments/26313263/26316035.png)![](attachments/26313263/26316034.png)

Informació útil

Info útil per configurar bases de dades:

[https://www.dba-resources.com/oracle/jdbc-connection-strings-for-oracle-thin-driver/](https://www.dba-resources.com/oracle/jdbc-connection-strings-for-oracle-thin-driver/)

[.rwui\_id\_f7b594c1-cf9f-45a4-b82c-6e9aa6bd26aa {color: #FFFFFF !important; background: rgb(67,197,208);}.rwui\_id\_f7b594c1-cf9f-45a4-b82c-6e9aa6bd26aa:hover {background: rgb(62,182,192);}.rwui\_id\_f7b594c1-cf9f-45a4-b82c-6e9aa6bd26aa .rwui\_icon {color: #FFFFFF !important;}Tornar enrere](https://steps.everis.com/confluence/pages/viewpage.action?pageId=1135312605 "Tornar enrere") [.rwui\_id\_e84e0934-9fb1-45e8-8b40-1fac3027ca4f {color: #FFFFFF !important; background: rgb(235,100,163);}.rwui\_id\_e84e0934-9fb1-45e8-8b40-1fac3027ca4f:hover {background: rgb(217,93,151);}.rwui\_id\_e84e0934-9fb1-45e8-8b40-1fac3027ca4f .rwui\_icon {color: #FFFFFF !important;}Compilar un connector](https://steps.everis.com/confluence/display/AOC/3.1+-+Compilar+el+connector "Compilar un connector") [.rwui\_id\_eba5c0ca-2993-4aca-afe2-11c86526282a {color: #FFFFFF !important; background: rgb(67,197,208);}.rwui\_id\_eba5c0ca-2993-4aca-afe2-11c86526282a:hover {background: rgb(62,182,192);}.rwui\_id\_eba5c0ca-2993-4aca-afe2-11c86526282a .rwui\_icon {color: #FFFFFF !important;}Següent pas](https://steps.everis.com/confluence/pages/viewpage.action?pageId=1135312613 "Següent pas")
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Attachments:
------------

![](images/icons/bullet_blue.gif) [TAO.zip](attachments/26313263/26316570.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [ABSIS.zip](attachments/26313263/26316568.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [AUDIFILM.zip](attachments/26313263/26316567.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [SPAI.zip](attachments/26313263/26316564.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [WS TAO.zip](attachments/26313263/26316563.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [WS TAO2.0.zip](attachments/26313263/26316562.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [WSAYTOS.zip](attachments/26313263/26316578.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [WS AUDIFILM.zip](attachments/26313263/26316576.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-15-16.png](attachments/26313263/26316552.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-16-15.png](attachments/26313263/26316551.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-23-4.png](attachments/26313263/26316561.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-27-2.png](attachments/26313263/26316556.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-30-29.png](attachments/26313263/26316553.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-32-41.png](attachments/26313263/26316058.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-34-33.png](attachments/26313263/26316071.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-36-46.png](attachments/26313263/26316070.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-37-24.png](attachments/26313263/26316069.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-40-9.png](attachments/26313263/26316061.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-41-17.png](attachments/26313263/26316047.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-41-30.png](attachments/26313263/26316045.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-41-47.png](attachments/26313263/26316044.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-42-14.png](attachments/26313263/26316043.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-42-29.png](attachments/26313263/26316040.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-42-49.png](attachments/26313263/26316038.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-43-10.png](attachments/26313263/26316035.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-43-27.png](attachments/26313263/26316034.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-43-43.png](attachments/26313263/26316054.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-43-59.png](attachments/26313263/26316051.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-44-17.png](attachments/26313263/26316050.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-46-13.png](attachments/26313263/26316049.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-2-1\_13-48-24.png](attachments/26313263/26316026.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:13

[Atlassian](http://www.atlassian.com/)