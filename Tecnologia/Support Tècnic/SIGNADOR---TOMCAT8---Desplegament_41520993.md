Suport Tècnic : SIGNADOR - TOMCAT8 - Desplegament  

1.  [Suport Tècnic](index.md)
2.  [Suport Tècnic](13893782.md)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.md)
4.  [Plataformes](Plataformes_41520520.md)
5.  [SIGNADOR - TOMCAT8](SIGNADOR---TOMCAT8_41520991.md)

Suport Tècnic : SIGNADOR - TOMCAT8 - Desplegament
=================================================

Created by Unknown User (otecobernal), last modified by Joan Riquelme on 29 April 2025

Consideracions prèvies
----------------------

Probe:

Entorn

Node 1

Node 2

PRO Kyndryl

[http://10.120.1.35:8080/probe/](http://10.120.1.35:8080/probe/)

[http://10.120.1.36:8080/probe/](http://10.120.1.36:8080/probe/)

Ens pot servir per veure si les aplicacions estan funcionant (columna **STATUS**),  
rebent peticions (columna **REQUEST**) després de desplegar..

Pas 0: Fem backup
-----------------

Descarreguem el WAR de la ruta **_/apps/tomcat8/webapps/_** i el guardem en una carpeta de backup. En xarxa a la ruta: \\\\192.168.166.33\\Desplegaments\\2022\\....

Pas 1: Esborrar l'aplicació desplegada via PROBE
------------------------------------------------

Accedir al probe de la plataforma. URL's al principi de la FAQ.

Hem de clicar en el status de "running" en l'aplicació, esperar que s'aturi, i després d'eliminar l'aplicació: 

![](attachments/41520993/64980523.png)

Pas 3: Desplegar el nou WAR.
----------------------------

Revisar que s'ha esborrat tant el paquet com la carpeta que hem eliminat via probe a la ruta **_/apps/tomcat8/webapps/_**

Un cop eliminada l'aplicació, anem per shell al servidor i **copiem el war a desplegar a la ruta** **_/apps/tomcat8/webapps/_**

Només amb això el tomcat8 ja sap que té una aplicació nova a desplegar. Revisarem el catalina per veure que tot va correctament –> tail -f /apps/tomcat8/logs/catalina.out

Pas 4: Desplegar a tots els nodes.
----------------------------------

Caldrà repetir aquest procediment per cada un dels nodes on calgui desplegar l'aplicació, generalment tots.

Pas 5: Desplegar executables.
-----------------------------

A la ruta **/apps/aoc/APP/prjAppletCentralitzat/executables/** és on haurem de desplegar els nous executables. Revisar a la carpeta historic si la versió desplegada hi està:

![](attachments/41520993/100009662.png)

**Si no veiem la versió actual en aquesta carpeta, crear nova carpeta amb la versió com nom i fer el backup dels executables abans d'esborrar els executables actuals i pujar la nova versió.**

**Un cop hem vist que està el backup realitzat,** esborrem els executables antics i pujem els nous. Habitualment l'arxiu signador.properties no el toquem mai.

Pas 6: Validacions internes.
----------------------------

Hi han dues maneres diferents de realitzar les validacions:

*   A nivell de fitxers → Revisar que tots els fitxers i carpetes s'han modificat correctament.
*   Validació JIRA → Realitzar validació que indiquen al JIRA →  Normalment s'encarrega l'OT

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2022-3-1\_15-29-52.png](attachments/41520993/64980523.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2024-3-7\_11-34-20.png](attachments/41520993/100009662.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:17

[Atlassian](http://www.atlassian.com/)