Suport Tècnic : 3.1 - Compilar el connector  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.html)
4.  [Revisió de serveis](36340340.html)
5.  [PADRO - Revisions i Restabliment](PADRO---Revisions-i-Restabliment_118554712.html)
6.  [Padró - Instal·lació i manteniment](26313622.html)
7.  [PADRO - Instal·lació de l'aplicació](26313260.html)
8.  [3 - Instal·lació del connector](26313263.html)

Suport Tècnic : 3.1 - Compilar el connector
===========================================

Created by Unknown User (obernalp), last modified by Unknown User (otecagonzalez) on 14 November 2019

A continuació s'explicarà com compilar un connector.

Per fer-ho necessitarem disposar d'una infraestructura d'arxius i carpetes, entre elles, el codi font del connector a compilar. Podem descarregar aquesta infraestructura aquí: [aoc\_padro.rar](attachments/26313267/26315688.rar) i descomprimir-la, per exemple, a la carpeta C:\\ del nostre ordinador.

La carpeta conté el següent:

![](attachments/26313267/26315685.png)

  

PAS 0: Configuració de l'entorn

Abans de procedir, haurem de configurar el nostre entorn de compilació. Les següents passes només les haurem de realitzar en cas de ser el primer cop que ho fem

PAS inicial: Preparar equip local per compilar els connectors del PADRO

1-

Duplicar un subdirectori de: 

C:\\aoc\_padro\\JAVA\\conf\_var\\ 

i posar-li el nostre usuari de windows: 

C:\\aoc\_padro\\JAVA\\conf\_var\\\[usuariWindows\]

Editar les següents variables del fitxer setenv.bat d’aquest nou directori:

C:\\aoc\_padro\\JAVA\\conf\_var\\\[usuariWindows\]\\setenv.bat:

![](attachments/26313267/26315691.png)

  

2-

Canviar ruta del fitxer: C:\\aoc\_padro\\JAVA\\se.bat

![](attachments/26313267/30867705.png)

Hem de detallar el nostre usuari de Windows.

PAS 1: Compilar el connector

Una vegada tenim la configuració local, obrirem la consola de comandes (CMD) i executarem

Nota: \[connector\] serà el nom de la carpeta on està el codi a compilar per cada ajuntament (carpetes dins de “C:\\aoc\_padro\\JAVA\\prjWsNegocio\\conectores”)

**PAS 2: Compilació del connector**

cd C:\\aoc\_padro\\JAVA
se.bat
ant install
cd C:\\aoc\_padro\\JAVA\\prjAyuntamiento
ant install
cd C:\\aoc\_padro\\JAVA\\prjWsNegocio
ant -Dservicio=convivencia -Dversion=V1\_0 jar
ant -Dservicio=padron -Dversion=V2\_0 jar
ant -Dservicio=convivencia -Dversion=V1\_0 -Dayuntamiento=\[connector\] conector
ant -Dservicio=padron -Dversion=V2\_0 -Dayuntamiento=\[connector\] conector

És possible que les dues últimes execucions fallin perquè no troba els directoris “code\\java\\src\\” dins del directori del connector a compilar (l'error per pantalla ho indica).

\- S'han de crear manualment i es deixen sense contingut quedant la següent estructura:  
C:\\aoc\_padro\\JAVA\\prjWsNegocio\\conectores\\\[connector\]\\code\\java\\src\\  
tornar a llençar les que fallen.

  
Un cop compilat trobarem els connectors a:

_C:\\aoc\_padro\\JAVA\\prjWsNegocio\\build_

Amb els noms:

_classes-\[connector\]-padron-V2\_0_  
_classes-\[connector\]-convivencia-V1\_0_

[.rwui\_id\_9d83034e-d421-445e-9eb6-e351a73f76d8 {color: #FFFFFF !important; background: rgb(67,197,208);}.rwui\_id\_9d83034e-d421-445e-9eb6-e351a73f76d8:hover {background: rgb(62,182,192);}.rwui\_id\_9d83034e-d421-445e-9eb6-e351a73f76d8 .rwui\_icon {color: #FFFFFF !important;}Tornar enrere](https://steps.everis.com/confluence/pages/viewpage.action?pageId=1135312608 "Tornar enrere") [.rwui\_id\_0e090152-140a-483f-af34-39a00fd7acf4 {color: #FFFFFF !important; background: rgb(67,197,208);}.rwui\_id\_0e090152-140a-483f-af34-39a00fd7acf4:hover {background: rgb(62,182,192);}.rwui\_id\_0e090152-140a-483f-af34-39a00fd7acf4 .rwui\_icon {color: #FFFFFF !important;}Següent pas](https://steps.everis.com/confluence/pages/viewpage.action?pageId=1135312613 "Següent pas")
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

  
  

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2018-3-1\_18-30-17.png](attachments/26313267/26315691.png) (image/png)  
![](images/icons/bullet_blue.gif) [aoc\_padro.rar](attachments/26313267/26315686.rar) (application/octet-stream)  
![](images/icons/bullet_blue.gif) [aoc\_padro.rar](attachments/26313267/26315688.rar) (application/octet-stream)  
![](images/icons/bullet_blue.gif) [image2019-1-31\_18-24-50.png](attachments/26313267/26315685.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2019-11-14\_13-19-13.png](attachments/26313267/30867705.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:13

[Atlassian](http://www.atlassian.com/)