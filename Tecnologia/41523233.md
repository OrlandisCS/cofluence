Suport Tècnic : SIR 2.0 - FLUX DEL SERVEI - Integració del servei amb el MUX  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's SIR 2.0](41523073.html)

Suport Tècnic : SIR 2.0 - FLUX DEL SERVEI - Integració del servei amb el MUX
============================================================================

Created by Unknown User (otecobernal), last modified by Unknown User (oteccmorales) on 15 June 2021

Es realitza un **registre d'entrada** per l'entitat que **rep** el tràmit i es genera un **registre de sortida** per l'entitat que l'**envia**.

  

El servei del SIR s'integra amb el MUX per tal de deixar registrat els tràmits d'entrada i de sortida.

A la taula **SIR\_INTERCANVI** podrem trobar la informació necessària sobre els registres que s'han realitzat per cada tràmit.

SELECT case
         when i.tipus = 0 then
          'Enviament'
         when i.tipus = 1 then
          'Recepció'
       end as TIPUS\_SIR,
       case
         when i.estat = 0 then
          'Pendent d''enviar'
         when i.estat = 1 then
          'Pendent de confirmar'
         when i.estat = 2 then
          'Confirmat'
         when i.estat = 3 then
          'Rebutjat'
         when i.estat = 4 then
          'Reenviat'
         when i.estat = 5 then
          'Error'
       end as ESTAT\_SIR,
       i.\*
  FROM SIR\_PCI.SIR\_INTERCANVI i

  

Haurem de tenir en compte que es realitza un registre d'entrada per l'entitat que rep el tràmit (**DESTI\_REGISTRE\_ENTRADA**) i es genera un registre de sortida per l'entitat que envia el tràmit (**ORIGEN\_REGISTRE\_ENTRADA** ). Aquests dos registres es realitzen contra el registre principal de cada entitat, respectivament.

*   És un registre normal, que seguirà les regles del MUX i s'intentarà registrar contra el primari i si falla, anirà contra el secundari.
*   Es crea un registre de sortida en enviar el tràmit SIR, encara que l'enviament falli, ja que aquest enviament es podrà reintentar en el futur.
*   Es crea un registre d'entrada en confirmar el tràmit (l'organisme que el rebi).

  

Els números de registre els podrem veure a la taula anterior en les columnes **ORIGEN\_REGISTRE\_ENTRADA** i **DESTI\_REGISTRE\_ENTRADA**

Addicionalment, podrem tenir en compte que per cada tràmit que es confirma s'han realitzat 3 comunicacions, com a mínim:

*   Enviament
*   ACK - Informe que s'ha fet l'enviament correctament
*   Confirmació

I que podrem buscar a la web admin d'APP;

**![](attachments/41523233/41523240.png)**

  

**Revissar els assentaments del MUX**
-------------------------------------

Primer, haurem de buscar els registres del MUX que ens indiqui l'usuari. Podrem fer servir el programa OracleQry:

![](attachments/41523233/41523236.png)

  

Un cop trobats els assentaments, podrem utilitzar el link proporcionat per l'eina per accedir a la web admin i més informació:

![](attachments/41523233/41523235.png)

  

A més, si visualitzem l'xml de la petició, podrem trobar l'identificador del SIR;

![](attachments/41523233/41523234.png)

  

Seguidament podrem intentar realitzar un MUX\_DESCARREGA per validar si ens podem descarregar els documents. Per més info podem consultar:

[MUX - FLUX DEL SERVEI - Descàrrega document MUX\_DESCARREGA](26313368.html)

Haurem de tenir en compte que potser l'usuari confirma un sir per la web i dona error, sigui per un timeout o per un altre error. Pot tornar a intentar fer la confirmació i llavors sí que funciona.

El registre bo és l'últim i haurem d'indicar a l'usuari que el primer registre l'han de descartar, ja que es tracta d'un error que va donar l'aplicació.

  

  

  

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2021-5-14\_14-27-32.png](attachments/41523233/41523234.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-5-14\_14-26-3.png](attachments/41523233/41523235.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-5-14\_14-23-52.png](attachments/41523233/41523236.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-5-14\_14-22-1.png](attachments/41523233/41523237.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-5-12\_13-44-49.png](attachments/41523233/41523238.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-4-21\_9-51-15.png](attachments/41523233/41523239.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2021-5-17\_17-58-52.png](attachments/41523233/41523240.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:00

[Atlassian](http://www.atlassian.com/)