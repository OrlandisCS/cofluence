Suport Tècnic : Revisió de Threads  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.html)
4.  [Plataformes](Plataformes_41520520.html)
5.  [PCI3 - WL12](PCI3---WL12_41520942.html)
6.  [PCI3 - WL12 - FAQ's extres](41521683.html)

Suport Tècnic : Revisió de Threads
==================================

Created by Unknown User (otecjriquelme), last modified by OTEC ST Robert Font Rubí on 28 February 2022

Index
-----

[Revisió Threads](https://confluence.aoc.cat/pages/viewpage.action?pageId=41521688#RevisiódeThreads-Threads)

[Threads configurats per cada aplicació](https://confluence.aoc.cat/pages/viewpage.action?pageId=41521688#RevisiódeThreads-THREADS_APP)

Revisió Threads
---------------

Quan hi ha un alt nombre de threads executant-se pot causar que moltes peticions fallin i es quedin en error de "Read time out" o similar. 

1-Accedim a l'admin de Web Logic 2:  [http://10.120.1.163:7001/console/login/LoginForm.jsp](http://10.120.1.163:7001/console/login/LoginForm.jsp)

2-Environment > Servers > Escollim el node a revisar: 

![image2018-12-17_12-23-43.png](https://intranet.aoc.cat/download/attachments/26313399/image2018-12-17_12-23-43.png?version=1&modificationDate=1545046119000&api=v2)

  

3- Seguidament Supervisión > Threads > I ens hem de fixar en els Threads de Parada: 

![](attachments/41521687/41522711.png)

4- En cas que trobem Thread en Parada pasarem una captura a Sistemes per valorar si cal fer un reinici.

Threads configurats per cada aplicació
--------------------------------------

Per saber els threads que tenen configurada cada app, farem:

![image2019-2-27_16-4-5.png](https://intranet.aoc.cat/download/attachments/26313498/image2019-2-27_16-4-5.png?version=1&modificationDate=1551279979000&api=v2)

  

Entrem a l'app que volem saber els threads que té configurats:

![image2019-2-27_16-6-8.png](https://intranet.aoc.cat/download/attachments/26313498/image2019-2-27_16-6-8.png?version=1&modificationDate=1551279979000&api=v2)  
  
\------------------------------------------------------------------------------------------------------------------------------

Com extreure Dumpthreads per consola
------------------------------------

  

1.  **Accedirem a la màquina de WL12 (SOA) que pertoqui.  
      
    **Trobaràs les connexions en [PCI3 - WL12 - Connexió](41520943.html).  
      
    
2.  **Busquem la ID del procés:**  
      
    ps -axu | grep -i **_XXX_**NODO_**Y**_ (XXX per indicar si es tracta de APP, IOP o NT) (Y = per indicar el node en el que ens trobem)  
      
    Exemple:  ps -axu | grep APPNODO3  
      
    
    A tenir en compte:
    
      
    Quan vulguem extreure el thread dump del node3, és important que ens connectem a la màquina 3 i no a la 1 per exemple, ja que sinó el que ens podríem trobar és un procés que no té a veure amb el que volem trobar:  
      
    En aquesta captura d'exemple, ens connectem a la màquina 1 i al fer la comanda ens retorna un logs de ETAULER que comparteixen el nom de APPNODO1.  
      
      
    ![](attachments/41521687/64980487.png)
    
      
      
    Amb aquesta comanda trobarem la ID del procés el qual haurem d'extreure el threaddump:  
      
    ![](attachments/41521687/64980489.png)  
      
    
3.  **Guardar el threaddhump a la carpeta tmp:**  
      
    Fem la comanda jstack XXXX > /tmp/threaddumpYYYYMMDD\_nodo\_horaactual.txt (Exemple:  jstack 1234 > /tmp/threaddump20220228\_APPNODO3\_1217.txt)  
      
    Hauria de quedar així:  
    ![](attachments/41521687/64980490.png)
    

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2021-4-27\_11-25-27.png](attachments/41521687/41522711.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-2-28\_13-22-45.png](attachments/41521687/64980487.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-2-28\_13-25-14.png](attachments/41521687/64980489.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-2-28\_13-31-56.png](attachments/41521687/64980490.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:16

[Atlassian](http://www.atlassian.com/)