Suport Tècnic : BBDD - Recuperar dades esborrades sense copia de seguretat  

1.  [Suport Tècnic](index.md)
2.  [Suport Tècnic](13893782.md)
3.  [04 - Tècnica de sistemes + 24x7 + Padró](26313202.md)
4.  [FAQs Infraestructura](FAQs-Infraestructura_26313593.md)

Suport Tècnic : BBDD - Recuperar dades esborrades sense copia de seguretat
==========================================================================

Created by Unknown User (jxnieto), last modified on 31 January 2022

Per quan hi hagi "petits accidents" i s'esborrin dades de la base de dades i no tinguem cap còpia de seguretat feta, podrem recuperar-la mitjançant les "Flashback Query" , aquestes imatges ens permeten veure les dades de la taula en un moment del passat, d'aquesta forma podrem accedir a dades esborrades o modificades per error, aquesta eina està activa per defecte en les bases de dades a les versions (XE, Standard Edition o Enterprise Edition).  
  
Primer de tot podrem fer un SELECT ingressant la data anterior a quan vam realitzar la modificació/eliminació amb els condicionals amb els quals vulguem recuperar les dades.

**SELECT**

SELECT \* FROM etauler3pci.et\_document as of timestamp to\_timestamp('29-10-2021 14:00:00', 'DD-MM-YYYY HH24:MI:SS') where id\_edicte = 1648

Un cop tinguem clar les dades que volem recuperar, podrem fer una subquery per tornar a insertar\-les a la base de dades, d'aquesta forma:

**SELECT**

insert into et\_document(
select \* from etauler3pci.et\_document as of timestamp to\_timestamp('29-10-2021 14:00:00', 'DD-MM-YYYY HH24:MI:SS') 
where id\_edicte = 1648);

  

Cal tenir en compte que aquests flashbacks en el millor dels casos es pot recuperar dades fins a 4 dies, depenen del pes de les dades a tractar.

Biblografia:

[https://avanttic.com/blog/operaciones-de-flashback-en-oracle-database/](https://avanttic.com/blog/operaciones-de-flashback-en-oracle-database/)

[https://docs.oracle.com/cd/B19306\_01/backup.102/b14192/flashptr002.htm](https://docs.oracle.com/cd/B19306_01/backup.102/b14192/flashptr002.htm)

Document generated by Confluence on 02 June 2025 11:17

[Atlassian](http://www.atlassian.com/)