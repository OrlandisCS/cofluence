Projectes : Query recuperació resposta OCSP de BD  

1.  [Projectes](index.md)
2.  [PSIS](PSIS_24215797.md)
3.  [PSIS - WIKI](PSIS---WIKI_24215598.md)
4.  [Scripts SQL](Scripts-SQL_24215612.md)

Projectes : Query recuperació resposta OCSP de BD
=================================================

Created by Áurea Alcaide, last modified on 19 diciembre 2022

select this\_.ID as ID67\_1\_, 
this\_1\_.ISSUER\_DN as ISSUER2\_67\_1\_, 
this\_1\_.ISSUER\_KI as ISSUER3\_67\_1\_, 
this\_1\_.VALID\_UNTIL as VALID4\_67\_1\_, 
this\_1\_.retrievalDate as retrieva5\_67\_1\_, 
this\_1\_.ASN1DATAID as ASN7\_67\_1\_, 
this\_1\_.DISTRIBUTION\_POINT\_TYPE as DISTRIBU6\_67\_1\_, 
this\_.PRODUCED\_AT as PRODUCED2\_72\_1\_, 
this\_.DISTRIBUTION\_POINT as DISTRIBU3\_72\_1\_, 
singleresp1\_.ID as ID73\_0\_, 
singleresp1\_.ISSUER\_DN\_DIGEST as ISSUER2\_73\_0\_, 
singleresp1\_.SERIAL\_NUMBER\_DIGEST as SERIAL3\_73\_0\_, 
singleresp1\_.OCSP\_RESPONSE as OCSP4\_73\_0\_ 
from D\_RI\_ATL\_RSI\_OCSP\_RESP this\_ 
inner join D\_RI\_ATL\_RSI this\_1\_ 
on this\_.ID=this\_1\_.ID 
inner join D\_RI\_ATL\_RSI\_OCSP\_SRESP singleresp1\_ 
on this\_.ID=singleresp1\_.OCSP\_RESPONSE 
where this\_.DISTRIBUTION\_POINT=11416021046 -- distribution point id
and this\_1\_.retrievalDate>=to\_date('2015-05-07 13:40:34', 'YYYY-MM-DD HH24:MI:SS') -- emissió certificat
and this\_1\_.retrievalDate<=to\_date('2019-05-07 13:40:34', 'YYYY-MM-DD HH24:MI:SS') -- caducitat certificat
and this\_1\_.VALID\_UNTIL>=to\_date('2018-04-26 10:41:49', 'YYYY-MM-DD HH24:MI:SS')   -- validation date
and this\_1\_.retrievalDate<=to\_date('2018-04-26 10:41:49', 'YYYY-MM-DD HH24:MI:SS') -- validation date
and singleresp1\_.ISSUER\_DN\_DIGEST = '32344AD72DEEF6FE42A177DC2C0B6817DC2AC8B7'     -- hash en SHA1 de l'"Issuer DN", codificat en hexadecimal
and singleresp1\_.SERIAL\_NUMBER\_DIGEST = '58DCEE81E16D2AB1498966532CEFE774DEA844AE' -- hash en SHA1 del "Serial Number", codificat en hexadecimal

  

Exemple per MediaCloud:

select this\_.ID as ID67\_1\_, 
this\_1\_.ISSUER\_DN as ISSUER2\_67\_1\_, 
this\_1\_.ISSUER\_KI as ISSUER3\_67\_1\_, 
this\_1\_.VALID\_UNTIL as VALID4\_67\_1\_, 
this\_1\_.retrievalDate as retrieva5\_67\_1\_, 
this\_1\_.ASN1DATAID as ASN7\_67\_1\_, 
this\_1\_.DISTRIBUTION\_POINT\_TYPE as DISTRIBU6\_67\_1\_, 
this\_.PRODUCED\_AT as PRODUCED2\_72\_1\_, 
this\_.DISTRIBUTION\_POINT as DISTRIBU3\_72\_1\_, 
singleresp1\_.ID as ID73\_0\_, 
singleresp1\_.ISSUER\_DN\_DIGEST as ISSUER2\_73\_0\_, 
singleresp1\_.SERIAL\_NUMBER\_DIGEST as SERIAL3\_73\_0\_, 
singleresp1\_.OCSP\_RESPONSE as OCSP4\_73\_0\_ 
from D\_RI\_ATL\_RSI\_OCSP\_RESP\_2022 this\_ 
inner join D\_RI\_ATL\_RSI\_2022 this\_1\_ 
on this\_.ID=this\_1\_.ID 
inner join D\_RI\_ATL\_RSI\_OCSP\_SRESP\_2022 singleresp1\_ 
on this\_.ID=singleresp1\_.OCSP\_RESPONSE 
where this\_.DISTRIBUTION\_POINT=11416021046 -- distribution point id
and this\_1\_.retrievalDate>=to\_date('2022-01-01 17:00:00', 'YYYY-MM-DD HH24:MI:SS') -- emissió certificat
and this\_1\_.retrievalDate<=to\_date('2022-01-01 18:00:00', 'YYYY-MM-DD HH24:MI:SS') -- caducitat certificat
and this\_1\_.VALID\_UNTIL>=to\_date('2022-01-01 17:07:00', 'YYYY-MM-DD HH24:MI:SS')   -- validation date
and singleresp1\_.ISSUER\_DN\_DIGEST = '32344AD72DEEF6FE42A177DC2C0B6817DC2AC8B7'     -- hash en SHA1 de l'"Issuer DN", codificat en hexadecimal
and singleresp1\_.SERIAL\_NUMBER\_DIGEST = 'C7B5CF104FA501FCA11908334809C10C0842DFF5' -- hash en SHA1 del "Serial Number", codificat en hexadecimal

  

  

  

  

Document generated by Confluence on 07 junio 2025 00:00

[Atlassian](http://www.atlassian.com/)