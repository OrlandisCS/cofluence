Suport Tècnic : eNOTUM-Lite - Flux del servei - Callbacks de canvi d'estat - Revisions i errors  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's ENOTUM](28705561.html)
5.  [eNOTUM-Lite](eNOTUM-Lite_36341310.html)

Suport Tècnic : eNOTUM-Lite - Flux del servei - Callbacks de canvi d'estat - Revisions i errors
===============================================================================================

Created by Unknown User (otecjriquelme), last modified on 04 November 2021

Flux i consultes bàsiques per revisar un callback a partir d'un ID d'una notificació d'eNOTUM Lite. Per informació general consultar [eNOTUM-Lite](eNOTUM-Lite_36341310.html)

Flux de revisió bàsic
---------------------

  

**Revisar l'estat en què es troba la notificació**

select \* 
from nt\_lite.nt\_notificacions
where id=''

*   Si la notificació es troba en estat dipositada o en algun estat final (Acceptada, rebutjada, expirada) i l'integrador té els callbacks configurats, llavors hauria d'haver rebut callback de canvi d'estat.

  

**Revisar l'event de callback**

select ee.\* 
from nt\_lite.nt\_enviaments\_callback cc, nt\_lite.nt\_events\_enviament ee
where ee.enviament\_id = cc.id
and cc.notificacio\_id = '';

*   Amb aquesta query veurem aquells events estan en cua per a la notificació en concret.
*   Si estan en estat ERROR i reintent 7 → Han esgotat la política de reintents i han quedat en estat d'error permanent.
*   Si no apareix l'event significa que s'ha enviat correctament o bé que mai ha arribat a encuar-se, val la pena revisar els logs llavors...

### Revisió de logs

Per revisar els logs d'enviament de callback a partir d'un id de notificació, utilitzem la següent query:

**Revisar logs enviament callback**

select ll.\*, ee.estat, ee.missatge
from nt\_lite.nt\_enviaments\_callback cc, nt\_lite.nt\_logs\_event\_enviament ll, nt\_lite.nt\_enviaments ee
where ll.enviament\_id = cc.id
and ee.id = ll.enviament\_id
and cc.notificacio\_id = 'XXXXXXXX' --ID de la notificació a revisar
order by ll.dataexeucio desc;

Veurem si l'estat és ENVIAT o ERROR.

Per revisar més exhaustivament el motiu d'un error, podem revisar els logs d'aplicació → [eNOTUM-Lite](eNOTUM-Lite_36341310.html)

  

  

  

  

Document generated by Confluence on 02 June 2025 10:53

[Atlassian](http://www.atlassian.com/)