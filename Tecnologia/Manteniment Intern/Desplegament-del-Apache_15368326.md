Manteniment Intern : Desplegament del Apache  

1.  [Manteniment Intern](index.md)
2.  [Serveis de Manteniment Intern](Serveis-de-Manteniment-Intern_15368305.md)
3.  [Fitxa de servei de Intranet Confluence](Fitxa-de-servei-de-Intranet-Confluence_15368308.md)

Manteniment Intern : Desplegament del Apache
============================================

Created by Ivan Caballero on 14 diciembre 2018

Es fan servir aquest procediments:  
[https://confluence.atlassian.com/conf69/using-apache-with-mod\_proxy-950285629.html](https://confluence.atlassian.com/conf69/using-apache-with-mod_proxy-950285629.html)  
[https://confluence.atlassian.com/conf69/configuring-the-server-base-url-950285506.html](https://confluence.atlassian.com/conf69/configuring-the-server-base-url-950285506.html)  
  
  

Accés HTTP via Proxy reverse
============================

  
Activar el connector pel Proxy:  
Al servidor aoc-int-conf01, editar el fitxer:  
aoc-int-conf01:/confluence/atlassian-confluence-6.9.1/conf/server.xml  
Comentar el connector corresponent a l'accés http sense poxy, i descomentar el que diu "HTTPS - Proxying Confluence via Apache or Nginx over HTTPS"  
<Connector port="8090" connectionTimeout="20000" redirectPort="8443"  
maxThreads="48" minSpareThreads="10"  
enableLookups="false" acceptCount="10" debug="0" URIEncoding="UTF-8"  
protocol="org.apache.coyote.http11.Http11NioProtocol"  
scheme="https" proxyName="<subdomain>.<domain>.com" proxyPort="443"/>  
Canviar el nom del Proxy dins del connector:  
proxyName="intranet.aoc.local"  
  
  

Configuració del Apache.
------------------------

  
Carregar el módules: mod\_proxy, mod\_proxy\_http, proxy\_wstunnel, mod\_rewrite  
  
sudo a2enmod mod\_proxy  
sudo a2enmod mod\_proxy\_http  
sudo a2enmod proxy\_wstunnel  
sudo a2enmod mod\_rewrite  
sudo systemctl restart apache2  
Veure el módules carregats:  
apachectl -M  
  
  
  

Securing your Atlassian applications with Apache using SSL
==========================================================

  
[https://confluence.atlassian.com/kb/securing-your-atlassian-applications-with-apache-using-ssl-838284349.html](https://confluence.atlassian.com/kb/securing-your-atlassian-applications-with-apache-using-ssl-838284349.html)  
  
  
Al servidor aoc-int-conf01, editar el fitxer:  
aoc-int-conf01:/confluence/atlassian-confluence-6.9.1/conf/server.xml  
  
Comentem connector actual (HTTP via Proxy)  
<Connector port="8090" connectionTimeout="20000" redirectPort="8443"  
maxThreads="48" minSpareThreads="10"  
enableLookups="false" acceptCount="10" debug="0" URIEncoding="UTF-8"  
protocol="org.apache.coyote.http11.Http11NioProtocol"  
scheme="http" proxyName="intranet.aoc.local" proxyPort="80"/>  
i descomntem connector HTPS via Proxy:  
  

Configuració del Apache
-----------------------

  
root@aoc-int-f01:/etc/apache2# sudo a2enmod ssl  
Considering dependency setenvif for ssl:  
Module setenvif already enabled  
Considering dependency mime for ssl:  
Module mime already enabled  
Considering dependency socache\_shmcb for ssl:  
Module socache\_shmcb already enabled  
Module ssl already enabled

Document generated by Confluence on 06 junio 2025 23:57

[Atlassian](http://www.atlassian.com/)