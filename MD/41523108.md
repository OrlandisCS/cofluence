Suport Tècnic : RPC - INTEGRACIÓ - Proves Homologació  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's RPC](28705609.html)

Suport Tècnic : RPC - INTEGRACIÓ - Proves Homologació
=====================================================

Created by Unknown User (otecrjurado), last modified by Cristian Morales on 19 May 2023

Una vegada l'ens ens adjunti les proves realitzades d'homologació → que estan en  [https://github.com/ConsorciAOC/Homologacio-Serveis](https://github.com/ConsorciAOC/Homologacio-Serveis) ([https://consorciaoc.github.io/Homologacio-Serveis/](https://consorciaoc.github.io/Homologacio-Serveis/)) hem de validar que les respostes obtingudes corresponguin amb les respostes XML's del fitxer adjunt:

[![](download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-zip.png)Proves1-4.zip](/download/attachments/41523108/Proves1-4.zip?version=1&modificationDate=1676884088519&api=v2)[![](download/resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-resources/images/placeholder-medium-zip.png)Proves5-8.zip](/download/attachments/41523108/Proves5-8.zip?version=1&modificationDate=1676884090867&api=v2)

Cada XML té el codi de la prova a realitzar en l'homologació.

Validacions

Hem de validar que en el tag: <pet1:sistemaPeticionari>UWAOC</pet1:sistemaPeticionari> sempre informin UWAOC

Per altra banda, si adjunten document, el tag dels documents adjunts ha de ser:

<pet1:dadesDocumentLot>  
<pet1:nom>sample.pdf</pet1:nom>  
<pet1:tipusDocument>1</pet1:tipusDocument>  
<pet1:grandaria>107917</pet1:grandaria>  
<pet1:fitxer>  
**<pet1:refFitxerPCI>6036746</pet1:refFitxerPCI>**  
</pet1:fitxer>  
</pet1:dadesDocumentLot>

  

Revisar cada prova indicada en el document WORD amb la resposta dels XMLs que tenim i afegim com comentari amb tiquet amb un ok o ko. En cas de KO explicar perquè.

*   1 Contracte (casos d’ús generals)
    *   1.1
    *   1.2
    *   ...
*   2 Contracte – Procediment (camps obligatoris amb el supòsit d’un sòl lot)
    
    *   2.1
    *   2.2
    *   ...
*   3 Adjudicataris i ofertants
    *   3.1
    *   3.2
    *   ....
*   4 Situacions contractuals
    *   4.1
    *   4.2
    *   ....
*   5 Documentació de lot
    *   5.1
    *   5.2
    *   ....
*   6 Documentació de liquidació
*   7 Documentació de modificació
*   8 Documentació de pròrroga

En cada prova, validem:

*   Que totes les dades d’organisme informades a l’XML es corresponguin: Codi INE = Codi Organisme.
*   Que es correspongui l’usuari de l’XML amb el UWAOC
*   Amb aquestes validacions fetes, traslladem tiquet a la Cap de Servei (Vicky Millan) i quan ens doni l'OK, continuem amb el procés d'integració per PRO.

A tenir en compte

Algunes de les entitats que realitzen les proves d'homologació indicaran que en el seu entorn no fan servir algunes de les funcionalitats que apareixen a les proves. En aquests casos l'entitat en qüestió no necessitarà fer aquestes proves, sempre que es tracti de funcionalitats aïllades; haurem d'informar a l'entitat de que ens indiqui aquestes proves en el document d'homologació.

Errors que poden apareixer a les proves d'homologació

Prova 1.2 - Client received SOAP Fault from server: Message was incorrectly formatted or is missing information.

Aquest error genèric apareix quan no s'informa bé algun camp de l'XML o es fa servir alguna estructura de l'schema erroni.  
  
En el cas de la prova 1.2 (Creació d'un contracte amb un valor al camp de nombre de lots, però sense informar els camps del lot.), cal tenir en compte que només s'han d'enviar els camps obligatoris del contracte, però aquest no ha de tenir cap lot, per tant, no fa falta cap etiqueta relacionada amb els lots a la petició.  
  
Si no trobem aquest error o si l'error apareix a una altra prova, revisarem la pàgina de Confluence que fa referència a aquest error:  

[RPC - FLUX DEL SERVEI - ERRORS - Client received SOAP Fault from server: Message was incorrectly formatted or is missing information Please see the server log to find more detail regarding exact cause of the failure](64981968.html)

  

Exemple:  [ZD#43358](https://aoccat.zendesk.com/agent/tickets/43358)

La suma dels imports d'adjudicació de les anualitats és inferior a l'import d'adjudicació del lot. Falten anualitats per a completar el contracte

En aquest error hem de revisar si el contracte que ens envia l'usuari està marcat com a plurianual i el nombre de lots és 1:

![](attachments/41523108/81854984.png)

En cas de ser així, hem de comprovar si les dates d'inici i fi del lot són amb anys diferents, el que provocaria que el servei demani anualitats.

Si la prova no indica que hagi de ser plurianual, la solució ideal hauria de ser enviar un expedient que comenci i finalitzi el mateix any.

  

Exemple: [ZD#43495](https://aoccat.zendesk.com/agent/tickets/43495)

El camp Tramitació simplificada és obligatori.

És possible que l'usuari no trobi el camp en qüestió, ja que el camp de Tramitació simplificada no surt com a tal a l'XML, però sí que surt com a gestioEficient.

![](attachments/41523108/81854995.png)

Exemple: [ZD#43591](https://aoccat.zendesk.com/agent/tickets/43591)

Prova 2.2 Es genera l'error "Cal completar el contracte per a trametre'l a la JCCA." Pero l'usuari ha omplert els camps obligatoris

Si l'any d'execució del contracte és diferent de l'any d'adjudicació, es generarà l'error "Cal completar el contracte per a trametre'l a la JCCA. ".  
En aquest cas, hem de comunicar a l'usuari que s'hauria d'informar el contracte amb "despesa anticipada".  

  

Exemple: [ZD#43552](https://aoccat.zendesk.com/agent/tickets/43552)

  

No es pot fer l'alta d'un Document a un Contracte trames a la JCCA

Quan l'usuari rep aquest error 

"No es pot fer l'alta d'un Document a un Contracte trames a la JCCA"

i tot sembla estar en ordre, hem de demanar a RPC que retornin l'expedient a estat Organisme Contractant.

Un cop rebem confirmació de que l'estat de l'expedient ha estat retornat, comunicarem a l'usuari que pot tornar a fer la prova.

Exemple: [ZD#43854](https://aoccat.zendesk.com/agent/tickets/43854)

Prova 6.1 amb ens universitaris

Per organismes d'Universitats no es obligatori presentar l'informe d'avaluació, per tant no es requereix que aquests realitzin aquesta prova d'homologacio ja que amb el funcionament actual de RPC genera errors. Per el moment no serà necessari realitzar la prova 6.1 per els organismes Universitats

  

Exemple [ZD#43811](41523108.html)

  

[https://github.com/ConsorciAOC/Homologacio-Serveis](https://github.com/ConsorciAOC/Homologacio-Serveis)

[https://consorciaoc.github.io/Homologacio-Serveis/](https://consorciaoc.github.io/Homologacio-Serveis/)

Related issues

JIRA:  [ST-9810](https://contacte.aoc.cat/browse/ST-9810?src=confmacro) - Data cannot be retrieved due to an unexpected error. / [ST-18111](https://contacte.aoc.cat/browse/ST-18111?src=confmacro) - Data cannot be retrieved due to an unexpected error.

[RPC - INTEGRACIÓ - Integració amb el de servei](28704970.html)

  

  

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [xmls.zip](attachments/41523108/81854547.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [image2022-11-23\_10-17-50.png](attachments/41523108/81854984.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2022-11-24\_16-26-47.png](attachments/41523108/81854995.png) (image/png)  
![](images/icons/bullet_blue.gif) [Proves1-4.zip](attachments/41523108/81855612.zip) (application/zip)  
![](images/icons/bullet_blue.gif) [Proves5-8.zip](attachments/41523108/81855613.zip) (application/zip)  

Document generated by Confluence on 02 June 2025 10:59

[Atlassian](http://www.atlassian.com/)