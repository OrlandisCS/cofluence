Suport Tècnic : iARXIU - Informació del Servei  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [02 - FAQ's serveis](26313393.html)
4.  [FAQ's iARXIU](30869028.html)

Suport Tècnic : iARXIU - Informació del Servei
==============================================

Created by Unknown User (otecagonzalez), last modified by Joan Riquelme on 27 March 2025

  

**Detall del servei**

iArxiu és una servei que permet desar documentació de diferents formats en un repositori. En aquest es desaran arxius de llarga durada i que siguin consuntables durant un llarg termini. 

Aquest servei antigament va ser desenvolupat per CATCERT i per aquesta raó la infraesturctura es una mica diferents als serveis de l'AOC. Per consumir iArxiu no és obligatori pasar per la PCI.

Els usuaris consumiran el servei per REFWEB(UI "EACAT") o bé integració i les peticions es tracten al CORE de l'aplicació. Aquests dos components utilitzen altres componets coms els sistema de fitxers, BBDD, MSC, etc.

Clients exemples

\\\\aocfs01.aoc.local\\Arxiu\\D1300 N-iArxiu\\03-Execucio\\02- Direccio\_projecte\\Suport

**Flux d'un consum**
--------------------

Per tal d'entendre millor el servei, detallarem la vida d'una petició que consumeix iARXIU. 

**1.L'usuari que realitza la petició i ho fa per "Pantalles" (no integració) entenem que ho fa per la REFWEB (Portlet de iArxiu)**

REFWEB

Refweb es el portlet que utilitza l'empleat públic a través de la plataforma EACAT.

Cada Ajuntament que estigui donat d'alta al servei disposaria de:

*   **Usuari Administrador:** Gestor que dóna d'alta a més usuaris i donar permisos del seu ens per tal de poder utilitzar el servei. A més de poder realitzar les operacions que dóna iArxiu.  
    Per accedir com ha usuari administrador no tenen d'informar el desplegable fons. Si l'usuari que accedeix té permisos d'administrador accedirà com gestor per l'ens en qüestió.

_Permisos: És gestionen dins del módul de iArxiu, i no d'EACAT_

*   **Usuari/s:** Usuaris que poden realitzar les operacions que proporciona iArxiu.

  

URL Preproducció:

[https://preproduccio.iarxiu.eacat.cat](https://preproduccio.iarxiu.eacat.cat/)

URL Producció:  
[https://iarxiu.eacat.cat](https://iarxiu.eacat.cat/)

  

  

Hi hauran usuaris dels quals van a través de una aplicació integrada amb iARXIU

Integració

### Documentació d'integració

[https://consorciaoc.github.io/iArxiu/](https://consorciaoc.github.io/iArxiu/)

### Modalitats de ingrés

**Ingrès Offline(asíncorn)**: _Recomanat ._

[https://github.com/ConsorciAOC/iArxiu#diagrama-de-fluxe](https://github.com/ConsorciAOC/iArxiu#diagrama-de-fluxe) <--- EXEMPLE d'un ingrès d'integració

**Ingrès Online(síncron)**: _No recomanat pel pes de la petició._

  

**2\. L'usuari podrà realitzar diferents operacions:** 

**Ingrés**: Carregar un document al repositori de iARXIU. 

*   *   *   Quan un usuari fer un ingrés es genera una carpeta .ZIP que aquesta conté: 

**a)** mets.xml → Fitxer de metadades que conté el detall dels documents que s'estan penjant, així poder cercar la documentació posteriorment. 

**b)** 1/...doc1.pdf → Documents

**c)** 2/...doc2.pdf → Documents

  

Aquest paquet es diu PIT (paquet d'informació de transferència). 

*   *   *   Quan l'usuari genera un ingrés la documentació es carrega en el repositori de iARXIU (**_/var/iarxiu/repositori_**).  
            Un cop es carrega en el repositori es genera una estructura de carpetes. 

ANY  
    MES     
        DIA     
            HORA    
                MINUT → I l'identificador del paquet. Aquest nom el podem trobar també per BBDD.

*   *   *   Durant l'ingrés iArxiu disposta d'un component d'antivirus (CLAMAV) per analitzar el document i assegurar que no està afectat per cap virus. 

  

**Canviar format**: Canviar el format del document carregat al repositori (per exemple: de .DOC a .PDF).

**Consultar un document**: Descarregar-se un document que ja està ingressat a iARXIU.

  

**Infraestructura**
-------------------

iArxiu es un servei que no segueix la infraestructura de l'AOC. Aquesta aplicació antigament pertanyia a CATCERT i actualment disposa de unes màquines aïllades on esta desplegada l'aplicació de iARXIU core i portlet.

  

**Diferències:** 

1.  ****Hi han integradors que llancen les peticions directament a la PCI, en aquest cas la MSC és qui fa de passarel·la, tracta les peticions i les envia a iARXIU (client 1)**  
    **
2.  **La majoria de integradors no apunten a la PCI, si no que disparen la petició directament a iARXIU core (client2).**
3.  **Els usuaris que van pel portlet de l'EACAT pero en realitat fa un "look & feel" cap a la REFWEB(portlet d'iARXIU - client 3)**

  

![](attachments/34504932/34505158.jpeg)

  

  

  

**Documentació tècnica**
------------------------

Consultar documentació tècnica a →  [FAQ's iARXIU](30869028.html)

**Dependències internes**
-------------------------

iARXIU té molta dependència amb PSIS. 

Si PSIS falla o dóna temps alts iARXIU és una de les primeres aplicacions que començarà a fallar.

A vegades podrem fins i tot detectar que falla PSIS ja que les sondes d'iARXIU comencen a donar KO. 

En cas d'afectació a PSIS, podem revisar la FAQ [PSIS - Revisions+ Actuacions](/pages/createpage.action?spaceKey=SII&title=PSIS+-+Revisions%2B+Actuacions&linkCreation=true&fromPageId=34504932)

**Sondes**
----------

Les sondes que monitoren  el servei de iARXIU les podem trobar en la següent FAQ: [Sondes iARXIU](Sondes-iARXIU_34505138.html)

**Eines per revisar el servei**
-------------------------------

Per tal de revisar l'estat del servei disposem de diferents eines en les que podrem analitzar l'estat d'iARXIU. 

Consultar FAQ:

[iARXIU - ALTRES - Eines per revisar l'estat de iARXIU](34505097.html)

  

**Referències**
---------------

**[PRJ-4176](https://contacte.aoc.cat/browse/PRJ-4176?src=confmacro) - Data cannot be retrieved due to an unexpected error.**

  

  

Attachments:
------------

![](images/icons/bullet_blue.gif) [RV iArxiu Alta nous integradors.msg](attachments/34504932/34505093.msg) (application/vnd.ms-outlook)  
![](images/icons/bullet_blue.gif) [iARXIU\_DIA.jpeg](attachments/34504932/34505160.jpeg) (image/jpeg)  
![](images/icons/bullet_blue.gif) [iARXIU\_DIA.jpeg](attachments/34504932/34505158.jpeg) (image/jpeg)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-14-27.png](attachments/34504932/93357178.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-16-27.png](attachments/34504932/93357179.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-21-0.png](attachments/34504932/93357180.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-22-5.png](attachments/34504932/93357181.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-32-16.png](attachments/34504932/93357182.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-35-1.png](attachments/34504932/93357183.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-50-4.png](attachments/34504932/93357184.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2023-9-13\_8-50-55.png](attachments/34504932/93357185.png) (image/png)  

Document generated by Confluence on 02 June 2025 10:56

[Atlassian](http://www.atlassian.com/)