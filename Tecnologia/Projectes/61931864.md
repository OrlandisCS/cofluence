Projectes : WildFly datasource: Activació/desactivació estadístiques  

1.  [Projectes](index.md)
2.  [PSIS](PSIS_24215797.md)
3.  [PSIS - WIKI](PSIS---WIKI_24215598.md)
4.  [Procediments](Procediments_24215610.md)

Projectes : WildFly datasource: Activació/desactivació estadístiques
====================================================================

Created by Áurea Alcaide, last modified on 13 octubre 2021

[http://www.mastertheboss.com/jbossas/jboss-datasource/jboss-datasource-configuration/](http://www.mastertheboss.com/jbossas/jboss-datasource/jboss-datasource-configuration/)

  

**Habilitar les estadístiques del datasource:**

/apps/wildfly/bin/jboss-cli.sh --connect --controller=10.120.3.57:9990 "/subsystem=datasources/data-source=PSIS:write-attribute(name=statistics-enabled,value=true)"

Output:

{
    "outcome" => "success",
    "response-headers" => {
        "operation-requires-reload" => true,
        "process-state" => "reload-required"
    }
}

Cal reiniciar el WildFly.

  

**Consultar les estadístiques:**

/apps/wildfly/bin/jboss-cli.sh --connect --controller=10.120.3.57:9990 "/subsystem=datasources/data-source=PSIS/statistics=pool:read-resource(recursive=false,proxies=false,include-runtime=true,include-defaults=true)"

Output:

{
    "outcome" => "success",
    "result" => {
        "ActiveCount" => 20,
        "AvailableCount" => 50,
        "AverageBlockingTime" => 1L,
        "AverageCreationTime" => 251L,
        "AverageGetTime" => 13L,
        "AveragePoolTime" => 529L,
        "AverageUsageTime" => 1285L,
        "BlockingFailureCount" => 0,
        "CreatedCount" => 20,
        "DestroyedCount" => 0,
        "IdleCount" => 20,
        "InUseCount" => 0,
        "MaxCreationTime" => 2249L,
        "MaxGetTime" => 2250L,
        "MaxPoolTime" => 96399L,
        "MaxUsageTime" => 57872L,
        "MaxUsedCount" => 3,
        "MaxWaitCount" => 0,
        "MaxWaitTime" => 1L,
        "TimedOut" => 0,
        "TotalBlockingTime" => 3L,
        "TotalCreationTime" => 5037L,
        "TotalGetTime" => 3176L,
        "TotalPoolTime" => 135008L,
        "TotalUsageTime" => 59154L,
        "WaitCount" => 0,
        "XACommitAverageTime" => 0L,
        "XACommitCount" => 0L,
        "XACommitMaxTime" => 0L,
        "XACommitTotalTime" => 0L,
        "XAEndAverageTime" => 0L,
        "XAEndCount" => 0L,
        "XAEndMaxTime" => 0L,
        "XAEndTotalTime" => 0L,
        "XAForgetAverageTime" => 0L,
        "XAForgetCount" => 0L,
        "XAForgetMaxTime" => 0L,
        "XAForgetTotalTime" => 0L,
        "XAPrepareAverageTime" => 0L,
        "XAPrepareCount" => 0L,
        "XAPrepareMaxTime" => 0L,
        "XAPrepareTotalTime" => 0L,
        "XARecoverAverageTime" => 0L,
        "XARecoverCount" => 0L,
        "XARecoverMaxTime" => 0L,
        "XARecoverTotalTime" => 0L,
        "XARollbackAverageTime" => 0L,
        "XARollbackCount" => 0L,
        "XARollbackMaxTime" => 0L,
        "XARollbackTotalTime" => 0L,
        "XAStartAverageTime" => 0L,
        "XAStartCount" => 0L,
        "XAStartMaxTime" => 0L,
        "XAStartTotalTime" => 0L,
        "statistics-enabled" => true
    }
}

  

**Deshabilitar les estadístiques del datasource:**

/apps/wildfly/bin/jboss-cli.sh --connect --controller=10.120.3.57:9990 "/subsystem=datasources/data-source=PSIS:write-attribute(name=statistics-enabled,value=false)"

Output:

{
    "outcome" => "success",
    "response-headers" => {
        "operation-requires-reload" => true,
        "process-state" => "reload-required"
    }
}

Cal reiniciar el WildFly.

Document generated by Confluence on 07 junio 2025 00:00

[Atlassian](http://www.atlassian.com/)