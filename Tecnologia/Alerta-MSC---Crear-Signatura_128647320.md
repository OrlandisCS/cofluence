Suport Tècnic : Alerta MSC - Crear Signatura  

1.  [Suport Tècnic](index.html)
2.  [Suport Tècnic](13893782.html)
3.  [03 - Monitorització - Revisions globals](26313327.html)
4.  [Dynatrace - Alertes de correu](Dynatrace---Alertes-de-correu_128647310.html)

Suport Tècnic : Alerta MSC - Crear Signatura
============================================

Created by David Tejada on 04 April 2025

Existeix una alerta que ens avisa quan hi ha alguna aplicació que supera els 9 elements en 5 minuts que ha generat error.

  

El correu que es rep és similar a aquest:

  

![](attachments/128647320/128647321.png)

  

Caldria revisar si realment és un error puntual o comencem a tenir problemes.

  

De primera, podem revisar el dashboard de Dynatrace → PRO Bizevents MSC

  

  

[https://aes56028.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/165f97d1-75a0-45d0-86ac-099691ed6f45#from=-2h&to=now%28%29&tileIds=5](https://aes56028.apps.dynatrace.com/ui/apps/dynatrace.dashboards/dashboard/165f97d1-75a0-45d0-86ac-099691ed6f45#from=-2h&to=now%28%29&tileIds=5)

  

![](attachments/128647320/128647322.png)

  

Es normal que es produeixin errors de forma constant, però haurien de ser pocs.

  

Si el motiu de l'error ho està informant TrustedX (tots els que indiquen que no s'ha pogut generar la signatura per algun motiu), si és un nombre raonable (molt inferior als casos que van bé), no cal preocuparse. Si la gràfica comença a creixer, caldrà revisar més a fons quin és el problema.

  

Per poder fer filtratges i revisar els errors, deixo una query bàsica que es pot adaptar les dades en funció del que es vulgui utilitzar:

  

fetch bizevents  
| filter event.category=="msc"  
| filter [dt.host\_group.id](http://dt.host_group.id)\=="PRO\_FRONTEND"  
| filter isNotNull(PayloadSortida)  
| parse PayloadSortida, "DATA {1,1000000} 'Operacio>' LD:operacio '</' DATA;"  
| parse PayloadSortida, "DATA {1,1000000} 'Aplicacio>' LD:aplicacio '</' DATA;"  
| parse PayloadSortida, "DATA {1,1000000} 'Organisme>' LD:organisme '</' DATA;"  
// Resultat de la petició a la MTI, si s'ha pogut realitzar la peticio  
| parse PayloadSortida, "DATA {1,1000000} 'CodiEstat>' LD:resultat '</' DATA;"  
| parse PayloadSortida, "DATA {1,1000000} 'LiteralError>' LD:MissatgeError '</' DATA;"

// Resultat de negoci si ha anat bé o malament.  
| parse PayloadSortida, "DATA {1,1000000} 'codiResultat>' LD:resultatNegoci '</' DATA;"  
| parse PayloadSortida, "DATA {1,1000000} 'descripcio>' LD:missatgeNegoci '</' DATA;"  
| filter matchesPhrase(operacio, "CREAR\_SIGNATURA")  
| filter (resultatNegoci!="0" or resultat!="0003")

Amb això, es podrà obtenir informació:

![](attachments/128647320/128647323.png)

Podem anar a través del trace\_id i buscar les excepcions rebudes:

![](attachments/128647320/128647324.png)

![](attachments/128647320/128647325.png)

Attachments:
------------

![](images/icons/bullet_blue.gif) [image2025-4-4\_16-8-21.png](attachments/128647320/128647321.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2025-4-4\_16-10-11.png](attachments/128647320/128647322.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2025-4-4\_16-15-39.png](attachments/128647320/128647323.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2025-4-4\_16-16-45.png](attachments/128647320/128647324.png) (image/png)  
![](images/icons/bullet_blue.gif) [image2025-4-4\_16-17-32.png](attachments/128647320/128647325.png) (image/png)  

Document generated by Confluence on 02 June 2025 11:11

[Atlassian](http://www.atlassian.com/)