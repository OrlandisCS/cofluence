Manteniment Intern : Servei - Jenkins  

1.  [Manteniment Intern](index.md)
2.  [Serveis de Manteniment Intern](Serveis-de-Manteniment-Intern_15368305.md)

Manteniment Intern : Servei - Jenkins
=====================================

Created by Ivan Caballero, last modified on 21 diciembre 2018

  

**Índex:**

/\*<!\[CDATA\[\*/ div.rbtoc1749247075422 {padding: 0px;} div.rbtoc1749247075422 ul {list-style: disc;margin-left: 0px;} div.rbtoc1749247075422 li {margin-left: 0px;padding-left: 0px;} /\*\]\]>\*/

*   [Descripció](#ServeiJenkins-Descripció)
*   [Interlocució:](#ServeiJenkins-Interlocució:)
*   [Dispositius implicats](#ServeiJenkins-Dispositiusimplicats)
*   [Aplicacions](#ServeiJenkins-Aplicacions)
*   [Serveis que depenen](#ServeiJenkins-Serveisquedepenen)
*   [Maquinari i programari del que depèn](#ServeiJenkins-Maquinariiprogramaridelquedepèn)
*   [Monitors](#ServeiJenkins-Monitors)
*   [Components instal·lats.](#ServeiJenkins-Componentsinstal·lats.)
*   [Accés al servei](#ServeiJenkins-Accésalservei)
*   [Còpies de seguretat](#ServeiJenkins-Còpiesdeseguretat)
*   [Variables d'entorn](#ServeiJenkins-Variablesd'entorn)
*   [Bases de dades](#ServeiJenkins-Basesdedades)
    *   [Bases de dades:](#ServeiJenkins-Basesdedades:)
    *   [Mida de la base de dades:](#ServeiJenkins-Midadelabasededades:)
*   [Storage](#ServeiJenkins-Storage)

  

Descripció
----------

Entorn de desenvolupament

Interlocució:
-------------

Albert Ciffone, Artur Barbeta

Dispositius implicats
---------------------

192.168.166.40

Aplicacions
-----------

Java, Jenkins, Maven, Sonar

Serveis que depenen
-------------------

Desenvolupament  

Maquinari i programari del que depèn
------------------------------------

Bitnami, Java i Ubuntu 11

Monitors
--------

OP5

Components instal·lats.
-----------------------

Jenkins 1.644- Apache 2.4.18- Apache Tomcat 7.0.67- Git 2.6.1- Gradle 2.10  
\-SonarQube 4.5.5  
\-SonarRunner 2.4  
Documentació de la instal·lació: [https://wiki.bitnami.com/Applications/BitNami\_Jenkins](https://wiki.bitnami.com/Applications/BitNami_Jenkins)

Accés al servei
---------------

Jenkins: [http://192.168.166.40/jenkins/login?from=%2Fjenkins%2F](http://192.168.166.40/jenkins/login?from=%2Fjenkins%2F) 

Sonar: [http://192.168.166.40:9000/](http://192.168.166.40:9000/)

Còpies de seguretat
-------------------

1) Servei de Bacula  
2) Còpia de seguretat manual:  
Fitxer: /root/backup\_jenkins.sh  
Afegit al crontab:  
0 4 \* \* \* /root/backup\_jenkins.sh  
Es copia tot el contingut de **/opt/bitnami** comprimit a **/usr/backup**

Variables d'entorn
------------------

Definides per tots els usuaris a **/etc/profil·le**

Bases de dades
--------------

### Bases de dades:

La base de dades es diu "Database" i té 4 esquemes:  
root@jenkins01:/# mysql -u root -p  
Enter password:  
Welcome to the MySQL monitor. Commands end with ; or \\g.  
Your MySQL connection id is 586  
Server version: 5.5.47-0ubuntu0.14.04.1 (Ubuntu)  
Copyright (c) 2000, 2015, Oracle and/or its affiliates. All rights reserved.  
Oracle is a registered trademark of Oracle Corporation and/or its  
affiliates. Other names may be trademarks of their respective  
owners.  
Type 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.  
mysql> show databases;  
\--------------------

Database

\--------------------

information\_schema

mysql

performance\_schema

sonar

\--------------------  
4 rows in set (0.16 sec)  
mysql>

### Mida de la base de dades:

  
mysql> SELECT table\_schema "database", sum( data\_length + index\_length ) / 1024 / 1024 "Tamaño en MB" FROM information\_schema.TABLES GROUP BY table\_schema;  
\-------------------\-------------+

database

Tamaño en MB

\-------------------\-------------+

information\_schema

0.00878906

mysql

0.67444801

performance\_schema

0.00000000

sonar

3.78125000

\-------------------\-------------+  
4 rows in set (0.50 sec)

Storage
-------

  
bitnami@jenkins01:~$ df -h  
Filesystem Size Used Avail Use% Mounted on  
/dev/sda1 15G 5.4G 8.8G 38% /  
none 4.0K 0 4.0K 0% /sys/fs/cgroup  
udev 997M 8.0K 997M 1% /dev  
tmpfs 201M 376K 200M 1% /run  
none 5.0M 0 5.0M 0% /run/lock  
none 1001M 0 1001M 0% /run/shm  
none 100M 0 100M 0% /run/user  
/dev/sda3 34G 11G 21G 35% /opt  
/dev/sdb1 35G 11G 24G 32% /usr/backup  
  
Particions /dev/sda1/dev/sda2 /dev/sda3/dev/sdb1  
FileSystems / swap /opt /usr/backup  
  
Per ampliar l'espai de disc existeix el procediment:  
\\\\aocfs01\\Operacions\\Informàtica interna\\Procediments\\Ampliar el sistema de fitxers de les màquines Linux.doc

Document generated by Confluence on 06 junio 2025 23:57

[Atlassian](http://www.atlassian.com/)